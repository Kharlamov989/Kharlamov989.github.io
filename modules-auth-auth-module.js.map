{"version":3,"sources":["webpack:///./src/app/modules/auth/auth-routing.module.ts","webpack:///./src/app/modules/auth/auth.component.html","webpack:///./src/app/modules/auth/auth.component.ts","webpack:///./src/app/modules/auth/auth.module.ts","webpack:///./src/app/modules/auth/auth.service.ts"],"names":[],"mappings":"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","file":"modules-auth-auth-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthComponent } from './auth.component';\r\n\r\n// import { AuthGuard } from '../../core/guards';\r\n\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: AuthComponent },\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {}\r\n","module.exports = \"<div class=\\\"layout\\\">\\r\\n    <div class=\\\"layout__block\\\">\\r\\n        <div class=\\\"login-box login-box--sign-in\\\">\\r\\n            <form class=\\\"login-box__container login-box__container--sign-in\\\" [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"submit()\\\">\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <div class=\\\"panel__layout\\\">\\r\\n                            <div class=\\\"login-box__title\\\">\\r\\n                                Справочник организаций\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"group-input\\\">\\r\\n                        <input class=\\\"group-input__input input\\\" type=\\\"email\\\" placeholder=\\\"E-mail\\\" formControlName=\\\"email\\\" />\\r\\n                        <input class=\\\"group-input__input group-input__input--last input\\\" type=\\\"password\\\" placeholder=\\\"Пароль\\\"\\r\\n                            formControlName=\\\"password\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"login-box__message login-box__message--error\\\" *ngIf=\\\"error\\\">Ошибка входа: не верный\\r\\n                        логин или пароль</div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <div class=\\\"panel__layout shrink\\\">\\r\\n                            <button class=\\\"login-box__button button\\\" type=\\\"submit\\\">\\r\\n                                Войти\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n\\r\\n            <form class=\\\"login-box__container login-box__container--password-recovery\\\">\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <div class=\\\"panel__layout\\\">\\r\\n                            <div class=\\\"login-box__title\\\">\\r\\n                                Восстановление пароля:\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"panel__layout shrink\\\">\\r\\n                            <div class=\\\"logo logo--login logo--n-m\\\">\\r\\n                                <svg class=\\\"logo__icon\\\" viewBox=\\\"0 0 35 18\\\" version=\\\"1.1\\\">\\r\\n                                    <path d=\\\"M4.783,4.129c2.41,-1.587 4.691,-2.303 6.175,-2.647c-1.969,1.76 -3.207,4.315 -3.207,7.158c0,2.843 1.238,5.398 3.207,7.158c-1.484,-0.344 -3.765,-1.06 -6.175,-2.647c-2.35,-1.546 -3.883,-3.304 -4.783,-4.511c0.9,-1.207 2.433,-2.965 4.783,-4.511Zm25.234,0c-2.41,-1.587 -4.691,-2.303 -6.175,-2.647c1.969,1.76 3.207,4.315 3.207,7.158c0,2.843 -1.238,5.398 -3.207,7.158c1.484,-0.344 3.765,-1.06 6.175,-2.647c2.35,-1.546 3.883,-3.304 4.783,-4.511c-0.9,-1.207 -2.433,-2.965 -4.783,-4.511Zm-14.869,3.215l4.131,-7.132c-0.603,-0.134 -1.231,-0.212 -1.877,-0.212c-2.081,0 -3.984,0.73 -5.48,1.948l3.178,5.482l0.048,-0.086Zm10.525,-1.283c-0.797,-2.526 -2.731,-4.544 -5.198,-5.477l-3.173,5.477l8.371,0Zm0.226,0.842l-6.494,0l0.251,0.437l4.131,7.13c1.414,-1.538 2.285,-3.585 2.285,-5.835c0,-0.592 -0.061,-1.19 -0.173,-1.732Zm-11.502,1.749l-3.381,-5.838c-1.413,1.538 -2.284,3.59 -2.284,5.841c0,0.592 0.06,1.135 0.173,1.737l6.494,0l-1.002,-1.74Zm-5.267,2.582c0.798,2.526 2.732,4.545 5.198,5.478l3.174,-5.478l-8.372,0Zm9.772,-0.002l-3.382,5.836c0.607,0.134 1.236,0.212 1.882,0.212c2.081,0 3.984,-0.73 5.479,-1.948l-3.177,-5.482l-0.802,1.382Z\\\"\\r\\n                                        style=\\\"fill:#00416c;fill-rule:nonzero;\\\" />\\r\\n                                </svg>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"panel__layout shrink\\\">\\r\\n                            <div class=\\\"login-box__title login-box__title--logo\\\">\\r\\n                                Аргус 360\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"group-input\\\">\\r\\n                        <input class=\\\"group-input__input input\\\" type=\\\"email\\\" placeholder=\\\"E-mail\\\" />\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <div class=\\\"panel__layout shrink\\\">\\r\\n                            <button class=\\\"login-box__button button\\\" type=\\\"submit\\\">\\r\\n                                Продолжить\\r\\n                            </button>\\r\\n                        </div>\\r\\n                        <div class=\\\"panel__layout\\\">\\r\\n                            <div class=\\\"login-box__message\\\">\\r\\n                                <a href=\\\"#\\\" class=\\\"link\\\">Отмена</a>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n\\r\\n            <form class=\\\"login-box__container login-box__container--successful-recovery\\\">\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <div class=\\\"panel__layout\\\">\\r\\n                            <div class=\\\"login-box__title\\\">\\r\\n                                Восстановление пароля:\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"panel__layout shrink\\\">\\r\\n                            <div class=\\\"logo logo--n-m\\\">\\r\\n                                <svg class=\\\"logo__icon\\\" viewBox=\\\"0 0 35 18\\\" version=\\\"1.1\\\">\\r\\n                                    <path d=\\\"M4.783,4.129c2.41,-1.587 4.691,-2.303 6.175,-2.647c-1.969,1.76 -3.207,4.315 -3.207,7.158c0,2.843 1.238,5.398 3.207,7.158c-1.484,-0.344 -3.765,-1.06 -6.175,-2.647c-2.35,-1.546 -3.883,-3.304 -4.783,-4.511c0.9,-1.207 2.433,-2.965 4.783,-4.511Zm25.234,0c-2.41,-1.587 -4.691,-2.303 -6.175,-2.647c1.969,1.76 3.207,4.315 3.207,7.158c0,2.843 -1.238,5.398 -3.207,7.158c1.484,-0.344 3.765,-1.06 6.175,-2.647c2.35,-1.546 3.883,-3.304 4.783,-4.511c-0.9,-1.207 -2.433,-2.965 -4.783,-4.511Zm-14.869,3.215l4.131,-7.132c-0.603,-0.134 -1.231,-0.212 -1.877,-0.212c-2.081,0 -3.984,0.73 -5.48,1.948l3.178,5.482l0.048,-0.086Zm10.525,-1.283c-0.797,-2.526 -2.731,-4.544 -5.198,-5.477l-3.173,5.477l8.371,0Zm0.226,0.842l-6.494,0l0.251,0.437l4.131,7.13c1.414,-1.538 2.285,-3.585 2.285,-5.835c0,-0.592 -0.061,-1.19 -0.173,-1.732Zm-11.502,1.749l-3.381,-5.838c-1.413,1.538 -2.284,3.59 -2.284,5.841c0,0.592 0.06,1.135 0.173,1.737l6.494,0l-1.002,-1.74Zm-5.267,2.582c0.798,2.526 2.732,4.545 5.198,5.478l3.174,-5.478l-8.372,0Zm9.772,-0.002l-3.382,5.836c0.607,0.134 1.236,0.212 1.882,0.212c2.081,0 3.984,-0.73 5.479,-1.948l-3.177,-5.482l-0.802,1.382Z\\\"\\r\\n                                        style=\\\"fill:#00416c;fill-rule:nonzero;\\\" />\\r\\n                                </svg>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"panel__layout shrink\\\">\\r\\n                            <div class=\\\"login-box__title login-box__title--logo\\\">\\r\\n                                Аргус 360\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"login-box__message login-box__message--success\\\">На указанный адрес отправлено письмо с\\r\\n                        инструкцией</div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"login-box__layout\\\">\\r\\n                    <div class=\\\"panel\\\">\\r\\n                        <div class=\\\"panel__layout shrink\\\">\\r\\n                            <button class=\\\"login-box__button button\\\" type=\\\"submit\\\">\\r\\n                                Ок\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AuthService } from './auth.service';\r\nimport { StorageProvider } from '../../core/storage-provider';\r\n\r\n\r\n@Component({\r\n    selector: 'auth-page',\r\n    templateUrl: 'auth.component.html',\r\n    host: { class: 'layout__block' }\r\n})\r\n\r\nexport class AuthComponent {\r\n    public error: boolean;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private fb: FormBuilder,\r\n        private authService: AuthService,\r\n        private storageProvider: StorageProvider\r\n    ) { }\r\n\r\n    loginForm = this.fb.group({\r\n        email: ['', Validators.email],\r\n        password: ['', Validators.required],\r\n    });\r\n\r\n    submit() {\r\n        if (this.loginForm.valid) {\r\n            this.error = false;\r\n\r\n            if (this.loginForm.value.email === 'denge989@yandex.ru' && this.loginForm.value.password === '123456') {\r\n                this.router.navigate(['/']);\r\n                this.storageProvider.set('user', {name: this.loginForm.value.email});\r\n            } else { \r\n                this.error = true;\r\n            }\r\n        } else {\r\n            this.error = true;\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\n\r\nimport { AuthComponent } from './auth.component';\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { AuthService } from './auth.service';\r\nimport { CoreModule } from '../../core/core.module';\r\nimport { AuthGuard } from './auth-guard.service';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CoreModule,\r\n        SharedModule,\r\n        AuthRoutingModule\r\n    ],\r\n    providers: [\r\n        AuthService,\r\n        AuthGuard\r\n    ],\r\n    declarations: [\r\n        AuthComponent\r\n    ]\r\n})\r\n\r\nexport class AuthModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { User, Authenticate } from './user';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    login({ email, password }: Authenticate): Observable<User> {\r\n        return this.http.post<User>('login', {email, password, audience: 'WEB', product: 'SCRL'})\r\n    }\r\n\r\n    logout() {\r\n        return this.http.get('logout');\r\n    }\r\n}\r\n"],"sourceRoot":""}